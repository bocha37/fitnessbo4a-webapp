<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ë–ñ–£ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script> 
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      color: #333;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }
    .result {
      margin-top: 20px;
      background: #f4f4f4;
      padding: 15px;
      border-radius: 8px;
    }
    a {
      display: block;
      margin-top: 20px;
      text-decoration: none;
      color: #4a90e2;
      text-align: center;
    }
  </style>
</head>
<body>

  <h2>üßÆ –†–∞—Å—á—ë—Ç –ë–ñ–£</h2>

  <form id="bzuForm">
    <label>–í–µ—Å (–∫–≥):</label>
    <input type="number" name="weight" id="weight" required />

    <label>–†–æ—Å—Ç (—Å–º):</label>
    <input type="number" name="height" id="height" required />

    <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
    <input type="number" name="age" id="age" required />

    <label>–ü–æ–ª:</label>
    <select name="gender" id="gender" required>
      <option value="1">–ú—É–∂—Å–∫–æ–π</option>
      <option value="2">–ñ–µ–Ω—Å–∫–∏–π</option>
    </select>

    <label>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</label>
    <select name="activity" id="activity" required>
      <option value="1.2">–°–∏–¥—è—á–∏–π</option>
      <option value="1.375">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è</option>
      <option value="1.55">–°—Ä–µ–¥–Ω—è—è</option>
      <option value="1.725">–í—ã—Å–æ–∫–∞—è</option>
      <option value="1.9">–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è</option>
    </select>

    <label>–¶–µ–ª—å:</label>
    <select name="goal" id="goal" required>
      <option value="lose">üî• –ü–æ—Ö—É–¥–µ–Ω–∏–µ</option>
      <option value="gain">üìà –ù–∞–±–æ—Ä –º–∞—Å—Å—ã</option>
      <option value="maintain">‚öñÔ∏è –£–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞</option>
    </select>

    <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  </form>

  <div class="result" id="result"></div>

  <a href="question.html">‚úâÔ∏è –ó–∞–¥–∞—Ç—å –ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å</a>

  <script>
    document.getElementById("bzuForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const weight = parseFloat(document.getElementById("weight").value);
      const height = parseFloat(document.getElementById("height").value);
      const age = parseInt(document.getElementById("age").value);
      const gender = document.getElementById("gender").value;
      const activity = parseFloat(document.getElementById("activity").value);
      const goal = document.getElementById("goal").value;

      if (!weight || !height || !age || !activity) {
        alert("–í–≤–µ–¥–∏—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!");
        return;
      }

      // –§–æ—Ä–º—É–ª–∞ Mifflin-St Jeor
      let bmr = (10 * weight) + (6.25 * height) - (5 * age);
      if (gender === "1") bmr += 5; else bmr -= 161;

      const tdee = Math.round(bmr * activity);

      let calories = tdee;
      if (goal === "lose") calories = Math.round(tdee * 0.8);
      if (goal === "gain") calories = Math.round(tdee * 1.2);

      const proteins = Math.round(weight * 2);
      const fats = Math.round(weight * 0.8);
      const carbs = Math.max(0, Math.round((calories - proteins * 4 - fats * 9) / 4));

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `
        <p><strong>üéØ –¶–µ–ª—å:</strong> ${goal === 'lose' ? '–ü–æ—Ö—É–¥–µ–Ω–∏–µ' : goal === 'gain' ? '–ù–∞–±–æ—Ä –º–∞—Å—Å—ã' : '–£–¥–µ—Ä–∂–∞–Ω–∏–µ'}</p>
        <p><strong>–ö–∞–ª–æ—Ä–∏–∏:</strong> ${calories} –∫–∫–∞–ª</p>
        <p><strong>–ë–µ–ª–∫–∏:</strong> ${proteins} –≥</p>
        <p><strong>–ñ–∏—Ä—ã:</strong> ${fats} –≥</p>
        <p><strong>–£–≥–ª–µ–≤–æ–¥—ã:</strong> ${carbs} –≥</p>
      `;
    });
  </script>

</body>
</html>